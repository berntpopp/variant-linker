# Test Fixtures for Variant-Linker

This directory contains real-world test data for variant-linker's output formats. These fixtures are used in automated tests to verify the correctness of the output formatting functionality, particularly for CSV and TSV outputs.

## Included Variants

The fixtures cover a diverse set of variant types to ensure comprehensive testing:

1. **rs6025** - A common SNP (Factor V Leiden)
   - Formats: [JSON](./rs6025.json), [CSV](./rs6025.csv), [TSV](./rs6025.tsv)

2. **ENST00000302118:c.137G>A** - A missense variant in HGVS notation
   - Formats: [JSON](./hgvs_missense.json), [CSV](./hgvs_missense.csv), [TSV](./hgvs_missense.tsv)

3. **9 130716739 . G GT** - A frameshift variant in VCF format
   - Formats: [JSON](./vcf_frameshift.json), [CSV](./vcf_frameshift.csv), [TSV](./vcf_frameshift.tsv)

4. **Multiple variants with filtering** - Batch processing of rs6025, rs1042522, and rs333 with HIGH impact filter
   - Formats: [JSON](./multiple_variants_filtered.json), [CSV](./multiple_variants_filtered.csv), [TSV](./multiple_variants_filtered.tsv)

## How These Fixtures Were Generated

These fixtures were generated by running variant-linker with different variants and output formats:

```bash
# Example command used to generate the fixtures
variant-linker --variant "rs6025" --output JSON > test/fixtures/rs6025.json
variant-linker --variant "rs6025" --output CSV > test/fixtures/rs6025.csv
variant-linker --variant "rs6025" --output TSV > test/fixtures/rs6025.tsv
```

## Usage in Tests

These fixtures are used in integration tests to verify that the output formatting functionality works correctly. By comparing the actual output of the code against these known-good examples, we can ensure that changes to the codebase don't break existing functionality.

Example test usage:

```javascript
const fs = require('fs');
const path = require('path');
const { expect } = require('chai');
const { analyzeVariant } = require('../src/variantLinkerCore');

describe('Output format integration test with fixtures', () => {
  it('should generate CSV output matching the fixture', async function() {
    const result = await analyzeVariant({ 
      variant: 'rs6025',
      output: 'CSV'
    });
    
    const expectedOutput = fs.readFileSync(
      path.join(__dirname, 'fixtures', 'rs6025.csv'), 
      'utf8'
    );
    
    // Compare actual output with expected fixture
    expect(result).to.equal(expectedOutput);
  });
});
```

## Updating Fixtures

If the expected output format changes intentionally, these fixtures should be regenerated using the commands listed above to reflect the new expected output.
